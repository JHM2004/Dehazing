# 图像去雾处理系统使用教程

## 1. 安装依赖包

```bash
pip install -r requirements.txt
```

## 2. 启动应用

### 2.1 运行Flask应用
```bash
python app.py
```

成功启动后会看到类似输出：
```
* Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
* Restarting with stat
* Debugger is active!
* Debugger PIN: xxx-xxx-xxx
```

### 2.2 访问Web界面
1. 打开浏览器
2. 访问 http://127.0.0.1:5000 或 http://localhost:5000

## 3. 使用说明

### 3.1 基本操作流程
1. 点击"选择图片"按钮上传有雾图片
2. 调整参数（可选）：
   - 去雾强度 (0.5-1.0)
   - 天空阈值 (0.3-1.0)
   - 天空透射率 (0.5-1.5)
   - 窗口大小 (5-25)
3. 点击"处理图片"按钮
4. 等待处理完成，查看结果
5. 点击图片可放大查看
6. 可以使用"重置参数"恢复默认设置

### 3.2 参数说明
- **去雾强度**：控制整体去雾程度，值越大去雾效果越强
- **天空阈值**：控制天空区域的识别范围，值越大识别的天空区域越少
- **天空透射率**：控制天空区域的去雾程度和亮度，值越大天空越亮
- **窗口大小**：控制局部区域大小，较大的值会使去雾更均匀，但可能丢失细节

## 4. 常见问题解决

### 4.1 无法启动应用
- 检查Python版本是否符合要求
- 确认所有依赖包安装成功
- 检查端口5000是否被占用

### 4.2 图片上传失败
- 确认图片格式是否支持
- 检查图片大小是否超过限制(16MB)
- 确认浏览器版本是否过旧

### 4.3 处理结果不理想
- 尝试调整参数
- 使用"重置参数"恢复默认值
- 确保原图清晰度足够

## 5. 注意事项
1. 建议使用虚拟环境安装依赖，避免包冲突
2. 处理大图片时可能需要等待较长时间
3. 建议使用最新版本的现代浏览器
4. 保持网络连接稳定
